(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(20),s=a.n(r),i=(a(45),a(6)),l=a(3),o=a(14),d=a(8),j=a(13),u=a(5),b=a.n(u),h=a(15),p=a(16),m=a.n(p),O="LOG_OUT",x="USERS_LIST",v={currentUser:{},isAuth:!1};var f=function(e){return{type:x,payload:e}},g=function(){var e=Object(h.a)(b.a.mark((function e(t,a,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://reacttrelloapp.herokuapp.com/api/auth/registration",{email:t,password:a,name:n});case 3:c=e.sent,window.M.toast({html:c.data.message}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.M.toast({html:e.t0.response.data.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}();var k=function(e,t,a){return function(){var n=Object(h.a)(b.a.mark((function n(c){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.a.post("https://reacttrelloapp.herokuapp.com/api/auth/createItem",{listId:e,id:t,name:a});case 3:r=n.sent,c(f(r.data)),localStorage.setItem("token",r.data.token),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.delete("https://reacttrelloapp.herokuapp.com/api/auth/deleteItem/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:n=t.sent,a(f(n.data)),localStorage.setItem("token",n.data.token),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),localStorage.removeItem("token");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},N=a(4),y=(a(36),a(0)),S=function(){var e=Object(n.useState)({email:"",password:"",name:""}),t=Object(j.a)(e,2),a=t[0],c=t[1],r=(Object(N.b)(),function(e){c(Object(d.a)(Object(d.a)({},a),{},Object(o.a)({},e.target.name,e.target.value)))});return Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col s6 offset-s3",children:[Object(y.jsx)("h3",{children:"Registartion"}),Object(y.jsxs)("div",{className:"card blue darken-1",children:[Object(y.jsx)("div",{className:"card-content white-text",children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"input-field ",children:[Object(y.jsx)("input",{placeholder:"email",id:"email",type:"text",name:"email",onChange:r}),Object(y.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(y.jsxs)("div",{className:"input-field ",children:[Object(y.jsx)("input",{placeholder:"password",id:"password",type:"password",name:"password",onChange:r}),Object(y.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(y.jsxs)("div",{className:"input-field ",children:[Object(y.jsx)("input",{placeholder:"you name",id:"text",type:"text",name:"name",onChange:r}),Object(y.jsx)("label",{htmlFor:"text",children:"Name"})]})]})}),Object(y.jsx)("div",{className:"card-action",children:Object(y.jsx)(i.b,{to:"/login",className:"btn yellow",onClick:function(){g(a.email,a.password,a.name)},children:"Registartion"})})]})]})})},C=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(j.a)(e,2),a=t[0],c=t[1],r=function(e){c(Object(d.a)(Object(d.a)({},a),{},Object(o.a)({},e.target.name,e.target.value)))},s=Object(N.b)();return Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col s6 offset-s3",children:[Object(y.jsx)("h3",{children:"Hello!"}),Object(y.jsxs)("div",{className:"card blue darken-1",children:[Object(y.jsx)("div",{className:"card-content white-text",children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"input-field ",children:[Object(y.jsx)("input",{placeholder:"email",id:"email",type:"text",name:"email",onChange:r}),Object(y.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(y.jsxs)("div",{className:"input-field ",children:[Object(y.jsx)("input",{placeholder:"password",id:"password",type:"password",name:"password",onChange:r}),Object(y.jsx)("label",{htmlFor:"password",children:"Password"})]})]})}),Object(y.jsx)("div",{className:"card-action",children:a.password.length<6?Object(y.jsx)("button",{className:" btn greey ",children:"log in"}):Object(y.jsx)(i.b,{to:"/createList",children:Object(y.jsx)("button",{className:" btn yellow ",onClick:function(){return s((e=a.email,t=a.password,function(){var a=Object(h.a)(b.a.mark((function a(n){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.post("https://reacttrelloapp.herokuapp.com/api/auth/login",{email:e,password:t});case 3:c=a.sent,n(f(c.data)),localStorage.setItem("token",c.data.token),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),alert(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()));var e,t},children:"log in"})})})]})]})})},I=function(e){var t=Object(N.c)((function(e){return e.user.isAuth})),a=Object(N.b)();return Object(y.jsx)("div",{className:"card",children:Object(y.jsxs)("nav",{className:"blue-grey",children:[Object(y.jsxs)("a",{href:"#!",className:"brand-logo",children:["   ",Object(y.jsx)("span",{className:" blue-text",children:"React"}),"Trello "]}),Object(y.jsxs)("ul",{className:"right hide-on-med-and-down",children:[!t&&Object(y.jsx)("li",{children:Object(y.jsx)(i.b,{to:"/login",children:"Log in"})}),!t&&Object(y.jsx)("li",{children:Object(y.jsx)(i.b,{to:"/registartion",children:"Registartion"})}),t&&Object(y.jsxs)("div",{className:"button__block",children:[Object(y.jsx)(i.b,{to:"/createList",className:"btn yellow",children:"Add list"}),Object(y.jsx)(i.b,{to:"/login",className:"btn  ",onClick:function(){return a({type:O})},children:"Log out"}),Object(y.jsx)("a",{className:"btn",target:"_blank",href:"https://github.com/VladyslavHeranin/Trello",children:"Git Hub"})]})]})]})})},L=function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),l=i[0],o=i[1],d=Object(N.c)((function(e){return e.user.currentUser})),u=d.lists,p=d.user;Object(n.useEffect)((function(){O(function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://reacttrelloapp.herokuapp.com/api/auth/auth",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:a=e.sent,t(f(a.data)),localStorage.setItem("token",a.data.token),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),localStorage.removeItem("token");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var O=Object(N.b)();return Object(y.jsx)("div",{className:"list",children:u.map((function(e,t){return Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col s12 m12",children:Object(y.jsxs)("div",{className:"card blue-grey darken-1",children:[Object(y.jsxs)("div",{className:"card-content white-text",children:[Object(y.jsx)("span",{className:"card-title",children:e.name}),e.items.map((function(t,a){return Object(y.jsxs)("div",{className:"item",onDragStart:function(a){return function(e,t,a){r(a),O(w(a._id))}(0,e._id,t)},onDragLeave:function(e){},onDragEnd:function(e){},onDragOver:function(e){return function(e){e.preventDefault()}(e)},onDrop:function(t){return function(e,t){e.preventDefault(),""!==c.name&&O(k(t,p.id,c.name))}(t,e._id)},draggable:!0,children:[Object(y.jsx)("p",{children:t.name}),Object(y.jsx)("button",{className:"btn-floating  waves-effect waves-light red-grey",onClick:function(){return O(w(t._id))},children:"\u2716"})]},a)}))]}),Object(y.jsxs)("div",{className:"card-action",children:[Object(y.jsxs)("div",{className:"input-field ",children:[Object(y.jsx)("input",{id:"name",type:"text",name:"name",onChange:function(e){o(e.target.value)}}),Object(y.jsx)("label",{className:"text-white",children:"Name"})]}),0===e.items.length&&Object(y.jsx)("button",{className:"btn red",onClick:function(){return O((t=e._id,function(){var e=Object(h.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.delete("https://reacttrelloapp.herokuapp.com/api/auth/delList/".concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:n=e.sent,a(f(n.data)),localStorage.setItem("token",n.data.token),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),localStorage.removeItem("token");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:"Delete"}),Object(y.jsx)("button",{className:"btn yello",onClick:function(){O(k(e._id,p.id,l))},children:"Create"})]})]})})},t)}))})},_=function(e){var t=Object(n.useState)({name:""}),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(N.b)(),l=Object(N.c)((function(e){return e.user.currentUser.user}));return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"card  darken-1 black-text",children:Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col s6 offset-s3",children:[Object(y.jsx)("h3",{children:"Create list"}),Object(y.jsxs)("div",{className:"card blue darken-1",children:[Object(y.jsx)("div",{className:"card-content white-text",children:Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"input-field ",children:[Object(y.jsx)("input",{id:"name",type:"text",name:"name",onChange:function(e){r(Object(d.a)(Object(d.a)({},c),{},Object(o.a)({},e.target.name,e.target.value)))}}),Object(y.jsx)("label",{className:"text-white",children:"Name"})]})})}),Object(y.jsxs)("div",{className:"card-action",children:[""!==c.name&&Object(y.jsx)(i.b,{to:"/trello",children:Object(y.jsx)("button",{className:"btn yellow",onClick:function(){s(function(e,t){return function(){var a=Object(h.a)(b.a.mark((function a(n){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.post("https://reacttrelloapp.herokuapp.com/api/auth/list",{id:e,name:t});case 3:c=a.sent,n(f(c.data)),localStorage.setItem("token",c.data.token),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),localStorage.removeItem("token");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(l.id,c.name))},children:"Add"})}),Object(y.jsx)(i.b,{to:"/trello",children:Object(y.jsx)("button",{className:"btn",children:"Close"})})]})]})]})})})})};var A=function(){Object(N.b)();var e=Object(N.c)((function(e){return e.user.isAuth}));return Object(y.jsx)(i.a,{children:Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(I,{}),e?Object(y.jsxs)(l.c,{children:[Object(y.jsx)(l.a,{exact:!0,path:"/trello",children:Object(y.jsx)(L,{})}),Object(y.jsx)(l.a,{exact:!0,path:"/createList",children:Object(y.jsx)(_,{})})]}):Object(y.jsxs)(l.c,{children:[Object(y.jsx)(l.a,{exact:!0,path:"/registartion",component:S}),Object(y.jsx)(l.a,{exact:!0,path:"/login",component:C})]})]})})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},F=a(17),T=a(39),U=a(40),E=Object(F.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.payload,isAuth:!0});case O:return localStorage.removeItem("token"),Object(d.a)(Object(d.a)({},e),{},{currentUser:{},isAuth:!1});default:return e}}}),R=Object(F.createStore)(E,Object(T.composeWithDevTools)(Object(F.applyMiddleware)(U.a)));s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(N.a,{store:R,children:Object(y.jsx)(A,{})})}),document.getElementById("root")),D()}},[[71,1,2]]]);
//# sourceMappingURL=main.e29d9685.chunk.js.map